jQuery(document).ready(function(a){wbuGlobalQtyElement=null;wbuQtyChangeCart=function(b){if(!wbuZeroQuantityCheck(b)){return false}if(b.val()==0){removeLink=b.closest(".cart_item").find(".product-remove a");removeLink.click();return false}if(wbuSettings.cart_ajax_method=="simulate_update_button"){wbuSimulateUpdateCartButtonClick(b)}else{wbuMakeAjaxCartUpdate(b)}wbuAfterCallUpdateCart(b);return true};wbuMakeAjaxCartUpdate=function(b){if(typeof b.attr("name")=="undefined"){return}matches=b.attr("name").match(/cart\[(\w+)\]/);if(matches===null){return}form=b.closest("form");a("<input type='hidden' name='update_cart' id='update_cart' value='1'>").appendTo(form);a("<input type='hidden' name='is_wbu_ajax' id='is_wbu_ajax' value='1'>").appendTo(form);wbuGlobalQtyElement=b;cart_item_key=matches[1];form.append(a("<input type='hidden' name='cart_item_key' id='cart_item_key'>").val(cart_item_key));formData=form.serialize();a("button[name='update_cart']").val(wbuSettings.cart_updating_text).prop("disabled",true);a("a.checkout-button.wc-forward").addClass("disabled").html(wbuSettings.cart_updating_text);a.post(form.attr("action"),formData,wbuAjaxCartUpdateCallback,"json")};wbuAjaxCartUpdateCallback=function(b){a(".cart-collaterals").html(b.html);wbuGlobalQtyElement.closest(".cart_item").find(".product-subtotal").html(b.price);a("#update_cart").remove();a("#is_wbu_ajax").remove();a("#cart_item_key").remove();a("button[name='update_cart']").val(b.update_label).prop("disabled",false);a("a.checkout-button.wc-forward").removeClass("disabled").html(b.checkout_label);if(a(".woocommerce-checkout").length){a(document.body).trigger("update_checkout")}a(document.body).trigger("updated_cart_totals");a(document.body).trigger("wc_fragment_refresh")};wbuSimulateUpdateCartButtonClick=function(b){updateButton=a("button[name='update_cart']");updateButton.removeAttr("disabled").val(wbuSettings.cart_updating_text).prop("disabled",true);setTimeout(function(){updateButton.click()},20);a("a.checkout-button.wc-forward").addClass("disabled").html(wbuSettings.cart_updating_text)};wbuWhenCartUpdated=function(b){wbuLockQtyInput();wbuAddItemRemoveEffect()};wbuAfterCallUpdateCart=function(b){};wbuAddItemRemoveEffect=function(){};wbuZeroQuantityCheck=function(b){if(wbuInfo.isCart&&(b.val()==0)&&(wbuSettings.confirmation_zero_qty==="yes")){if(!confirm(wbuSettings.zero_qty_confirmation_text)){b.val(1);return false}}return true};wbuListenChange=function(){if((wbuInfo.isCart||wbuInfo.isShop)&&(wbuSettings.enable_auto_update_cart=="yes")){a(".qty").off("change.wbu_qty_change").on("change.wbu_qty_change").change(function(b){return wbuQtyChangeCart(a(this))})}};wbuCartDeleteEvent=function(){};wbuQtyButtons=function(){a(document).on("click",".wbu-btn-inc",{},function(b){return wbuQtyButtonClick(a(this),1)});a(document).on("click",".wbu-btn-sub",{},function(b){return wbuQtyButtonClick(a(this),-1)});wbuLockQtyInput()};wbuQtyButtonClick=function(c,b){inputQty=c.parent().find(".qty");newQty=parseInt(inputQty.val())+b;minAttr=inputQty.attr("min");if(typeof minAttr!==typeof undefined&&minAttr!==false&&newQty<parseInt(minAttr)){return false}maxAttr=inputQty.attr("max");if(typeof maxAttr!==typeof undefined&&maxAttr!==false&&newQty>parseInt(maxAttr)){return false}if(inputQty.is("select")&&(inputQty.find('option[value="'+newQty+'"]').length===0)){return false}inputQty.val(newQty);inputQty.change();return false};wbuLockQtyInput=function(){if(wbuSettings.qty_buttons_lock_input=="yes"){a(".qty").attr("readonly","readonly").css("background-color","lightgray")}};wbuQtyOnShop=function(){if(!wbuInfo.isShop||(wbuSettings.enable_quantity_on_shop!="yes")){return}a("form.cart").off("change.wbu_form_cart_qty").on("change.wbu_form_cart_qty",".qty",function(){a(this.form).find("[data-quantity]").data("quantity",this.value);a(this).parent().parent().find("[data-quantity]").attr("data-quantity",a(this).val())});a(".add_to_cart_button").off("click.wbu_add_cart_btn").on("click.wbu_add_cart_btn",function(){a(".qty").change();return true});a(document).ajaxComplete(function(){wbuQtyOnShop()})};wbuQtyOnCheckout=function(){if(!wbuInfo.isCheckout||(wbuSettings.checkout_allow_change_qty!="yes")){return}a("form.checkout").on("change",".qty",function(){var b={action:"wbu_update_checkout",security:wc_checkout_params.update_order_review_nonce,post_data:a("form.checkout").serialize()};jQuery.post(wbuInfo.ajaxUrl,b,function(c){a("body").trigger("update_checkout")})});a("body").on("updated_checkout",function(){quantityTitle='<div class="checkout-qty-title">'+wbuInfo.quantityLabel+"</div>";a(".shop_table th.product-name").append(quantityTitle)})};wbuProductAddToCartAjax=function(){a(".qty").on("change",function(){a(".add_to_cart_button").attr("data-quantity",a(this).val());a('[name="add-to-cart"]').attr("data-quantity",a(this).val())})};wbuListenChange();wbuQtyButtons();wbuCartDeleteEvent();wbuQtyOnShop();wbuQtyOnCheckout();wbuProductAddToCartAjax();if(wbuInfo.isShop&&wbuSettings.hide_addtocart_button==="yes"){a(".add_to_cart_button").hide()}if(wbuSettings.cart_hide_quantity=="yes"){a(".product-quantity").parent().find("th").css("width","100%");a(".product-quantity").hide()}if(wbuInfo.isCart){if(wbuSettings.cart_fix_enter_key=="yes"){a(".woocommerce-cart-form .qty.text").on("keyup keypress",function(c){var b=c.keyCode||c.which;if(b===13){a(".woocommerce-cart-form .qty.text").trigger("blur");c.preventDefault();return false}})}if(wbuSettings.cart_hide_update=="yes"){a('button[name="update_cart"]').hide()}}a(document).on("updated_wc_div",function(){if(wbuSettings.cart_hide_update=="yes"){a('button[name="update_cart"]').hide()}wbuListenChange();wbuWhenCartUpdated()});a(document).on("added_to_cart",function(){if(wbuSettings.hide_viewcart_link==="yes"){a(".added_to_cart").hide()}setTimeout(function(){wbuListenChange()},500)})});